(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-678da226"],{"27b0":function(e,t,r){"use strict";t["a"]={contaUrl:"http://www.sdjhfaj.xyz/invoicing"}},"2f50":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"background"},[e._m(0),r("footer",[r("h3",{staticClass:"t-h3"},[e._v("欢迎注册进销存系统")]),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{prop:"name"}},[r("el-input",{staticStyle:{"margin-left":"-50px"},attrs:{placeholder:"请输入真实姓名",clearable:"","prefix-icon":"el-icon-shimingrenzheng1shuruzhenshixingmingfuzhi"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),r("el-form-item",{attrs:{prop:"age"}},[r("el-input",{staticStyle:{"margin-left":"-50px"},attrs:{placeholder:"请输入账号",clearable:"","prefix-icon":"el-icon-zhanghaoguanli"},model:{value:e.ruleForm.age,callback:function(t){e.$set(e.ruleForm,"age",t)},expression:"ruleForm.age"}})],1),r("el-form-item",{attrs:{prop:"pass"}},[r("el-input",{staticStyle:{"margin-left":"-50px"},attrs:{type:"password",placeholder:"请输入密码",clearable:"","prefix-icon":"el-icon-mima"},model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}})],1),r("el-form-item",{attrs:{prop:"checkPass"}},[r("el-input",{staticStyle:{"margin-left":"-50px"},attrs:{type:"password",placeholder:"请确认密码",clearable:"","prefix-icon":"el-icon-mima"},model:{value:e.ruleForm.checkPass,callback:function(t){e.$set(e.ruleForm,"checkPass",t)},expression:"ruleForm.checkPass"}})],1),r("el-form-item",{attrs:{prop:"phone"}},[r("el-input",{staticStyle:{"margin-left":"-50px"},attrs:{placeholder:"请输入手机号码",clearable:"","prefix-icon":"el-icon-weibiaoti-",id:"phone"},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",e._n(t))},expression:"ruleForm.phone"}})],1),r("el-form-item",{attrs:{prop:"shen"}},[r("el-input",{staticClass:"t-input",staticStyle:{"margin-left":"-50px"},attrs:{placeholder:"请输入身份证",clearable:"","prefix-icon":"el-icon-emishenfenzheng",id:"shen"},model:{value:e.ruleForm.shen,callback:function(t){e.$set(e.ruleForm,"shen",t)},expression:"ruleForm.shen"}})],1)],1),r("v-app",{attrs:{id:"inspire"}},[r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("el-button",{attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("\n                        所属项目:点击选择\n                    ")]),r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("选择工地所属项目")]),r("ul",e._l(e.gongdi,function(t){return r("li",{staticClass:"t-gongdi"},[r("el-radio",{attrs:{label:t.id,name:"type"},model:{value:e.exo,callback:function(t){e.exo=t},expression:"exo"}},[e._v(e._s(t.value))])],1)}),0),r("v-card-actions",[r("v-spacer"),r("el-button",{attrs:{color:"green darken-1",flat:""},on:{click:function(t){e.dialog=!1}}},[e._v("取消")]),r("el-button",{attrs:{color:"green darken-1",flat:""},on:{click:function(t){e.dialog=!1}}},[e._v("确定")])],1)],1)],1)],1)],1),r("el-row",{staticClass:"t-ck"},[r("el-col",{attrs:{span:20,offset:3}},[r("span",{staticStyle:{color:"gray"}},[e._v("请选择注册账号类型:")]),r("span",{staticClass:"t-hidden"},[e._v("* 请选择账号类型")]),r("div",{staticClass:"t-n"},[r("p",[r("el-radio",{staticStyle:{color:"gray"},attrs:{label:"1",id:"selectedOne",name:"selected"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("\n                            普通账号\n                        ")])],1),r("p",[r("el-radio",{staticStyle:{color:"gray"},attrs:{label:"2",id:"selectedTwo",name:"selected"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("\n                            采购/经理账号\n                        ")])],1)])])],1),r("el-row",[r("el-col",{attrs:{span:14,offset:5}},[r("el-button",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("注册\n                ")])],1),r("el-col",{attrs:{span:4,offset:1}},[r("router-link",{staticStyle:{"text-decoration":"none","font-size":"15px","line-height":"40px"},attrs:{to:"/"}},[r("p",[e._v("返回登录")])])],1)],1)],1)])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",[a("div",{staticClass:"t-pic"},[a("img",{attrs:{src:r("61d3"),alt:"图片受损"}})])])}],n=(r("7f7f"),r("27b0")),l={data:function(){var e=this,t=function(e,t,r){if(!t)return r(new Error("账号不能为空"));r()},r=function(t,r,a){""===r?a(new Error("请输入密码")):(""!==e.ruleForm.checkPass&&e.$refs.ruleForm.validateField("checkPass"),a())},a=function(t,r,a){""===r?a(new Error("请再次输入密码")):r!==e.ruleForm.pass?a(new Error("两次输入密码不一致!")):a()},o=function(e,t,r){var a=document.getElementById("phone").value;""===t?r(new Error("请输入电话")):/^1[34578]\d{9}$/.test(a)?r():r(new Error("手机格式错误"))},n=function(e,t,r){var a=document.getElementById("shen").value;""===t?r(new Error("请输入身份证")):/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(a)?r():r(new Error("身份证格式错误"))};return{exo:"",people:"",dialog:!1,checked:!1,gongdi:[],ruleForm:{name:"",age:"",pass:"",checkPass:"",phone:"",shen:""},rules:{name:[{required:!0,message:"请输入真实姓名",trigger:"blur"},{min:2,max:6,message:"长度在 2 到 6 个字符",trigger:"blur"}],pass:[{validator:r,trigger:"blur"}],checkPass:[{validator:a,trigger:"blur"}],age:[{validator:t,trigger:"blur"}],phone:[{validator:o,trigger:"blur"}],shen:[{validator:n,trigger:"blur"}]},radio:""}},methods:{submitForm:function(e){var t=this,r=(document.getElementsByName("selected"),document.querySelector(".t-hidden"),new URLSearchParams);r.append("realname",this.ruleForm.name),r.append("password",this.ruleForm.checkPass),r.append("username",this.ruleForm.age),r.append("phone",this.ruleForm.phone),r.append("cardid",this.ruleForm.shen),r.append("role",this.radio),r.append("siteList",this.exo),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.$axios.post(n["a"].contaUrl+"/user/regist",r).then(function(e){200==e.data.code?(t.$message({message:"恭喜你注册成功,2秒后跳转登陆!",type:"success"}),setTimeout(function(){window.location.href="/"},2e3)):400==e.data.code&&t.$message.error("注册失败,此用户名已存在")}).catch(function(e){console.log(e)})})}},created:function(){var e=this;this.$axios.get(n["a"].contaUrl+"/system/siteList",{params:{}}).then(function(t){if(200==t.data.code)for(var r=t.data.data.siteList,a=0;a<r.length;a++){var o={};o.id=r[a].id,o.value=r[a].siteName,e.gongdi.push(o)}}).catch(function(e){console.log(e)})}},s=l,i=(r("ae41"),r("2877")),c=Object(i["a"])(s,a,o,!1,null,null,null);c.options.__file="register.vue";t["default"]=c.exports},"61d3":function(e,t,r){e.exports=r.p+"img/小云朵.f12d2203.png"},"7f7f":function(e,t,r){var a=r("86cc").f,o=Function.prototype,n=/^\s*function ([^ (]*)/,l="name";l in o||r("9e1e")&&a(o,l,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(e){return""}}})},"881d":function(e,t,r){},ae41:function(e,t,r){"use strict";var a=r("881d"),o=r.n(a);o.a}}]);
//# sourceMappingURL=chunk-678da226.9ac42fa4.js.map