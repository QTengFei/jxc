{"version":3,"sources":["webpack:///./src/components/login.vue?8dbf","webpack:///src/components/login.vue","webpack:///./src/components/login.vue?ba17","webpack:///./src/components/login.vue","webpack:///./public/js/contaUrl.js","webpack:///./public/images/小云朵.png","webpack:///./src/components/login.vue?6a6f"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","ref","attrs","model","ruleForm","rules","label-width","prop","staticStyle","margin-left","placeholder","clearable","prefix-icon","value","callback","$$v","$set","expression","type","checked","round","plain","on","click","$event","submitForm","to","staticRenderFns","src","__webpack_require__","alt","loginvue_type_script_lang_js_","data","checkName","rule","Error","checkPass","username","password","validator","trigger","methods","formName","_this","params","URLSearchParams","append","$refs","validate","valid","console","log","$axios","post","contaUrl","then","response","code","$notify","error","title","message","sessionStorage","setItem","token","localStorage","role","getUserInfo","catch","$message","resetForm","resetFields","_this2","getItem","get","user","image","realName","$router","push","created","undefined","components_loginvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","module","exports","p","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_scpoed_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_scpoed_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-2af971f3.8d24c036.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"background\"},[_vm._m(0),_c('footer',[_c('h3',{staticClass:\"t-h3\"},[_vm._v(\"欢迎登陆进销存系统\")]),_c('div',{staticClass:\"t-name\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{staticStyle:{\"margin-left\":\"-50px\"},attrs:{\"placeholder\":\"请输入账号\",\"clearable\":\"\",\"prefix-icon\":\"el-icon-zhanghaoguanli\"},model:{value:(_vm.ruleForm.username),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"username\", $$v)},expression:\"ruleForm.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{staticStyle:{\"margin-left\":\"-50px\"},attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\",\"clearable\":\"\",\"prefix-icon\":\"el-icon-mima\",\"clearable\":\"\"},model:{value:(_vm.ruleForm.password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password\", $$v)},expression:\"ruleForm.password\"}})],1)],1)],1),_c('div',{staticClass:\"t-checkbox\"},[_c('el-checkbox',{model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}},[_vm._v(\"是否记住此账号\")])],1),_c('div',{staticClass:\"t-deng\"},[_c('el-button',{staticClass:\"t-button\",attrs:{\"type\":\"primary\",\"round\":\"\",\"plain\":\"\",\"plain\":true},on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(\"\\n                登陆\\n            \")])],1),_c('div',{staticClass:\"t-forget\"},[_c('span',{staticClass:\"t-span\"},[_vm._v(\"还没有账号?\")]),_c('router-link',{staticClass:\"t-zhuce\",attrs:{\"to\":\"/register\"}},[_vm._v(\"去注册\")])],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',[_c('div',{staticClass:\"t-pic\"},[_c('img',{attrs:{\"src\":require(\"../../public/images/小云朵.png\"),\"alt\":\"图片受损\"}})])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"background\">\n\n        <header>\n            <div class=\"t-pic\">\n                <img src=\"../../public/images/小云朵.png\" alt=\"图片受损\">\n            </div>\n        </header>\n\n        <footer>\n            <h3 class=\"t-h3\">欢迎登陆进销存系统</h3>\n\n            <div class=\"t-name\">\n                <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\n\n                    <el-form-item prop=\"username\">\n                        <el-input placeholder=\"请输入账号\" v-model=\"ruleForm.username\" clearable\n                                  prefix-icon=\"el-icon-zhanghaoguanli\"\n                                  style=\"margin-left: -50px;!important;\"></el-input>\n                    </el-form-item>\n\n                    <el-form-item prop=\"password\">\n                        <el-input type=\"password\" placeholder=\"请输入密码\" v-model=\"ruleForm.password\" clearable\n                                  prefix-icon=\"el-icon-mima\"\n                                  clearable style=\"margin-left: -50px;!important;\"></el-input>\n                    </el-form-item>\n                </el-form>\n            </div>\n\n            <div class=\"t-checkbox\">\n                <el-checkbox v-model=\"checked\">是否记住此账号</el-checkbox>\n            </div>\n\n            <div class=\"t-deng\">\n                <el-button type=\"primary\" round class=\"t-button\" @click=\"submitForm('ruleForm')\" plain :plain=\"true\">\n                    登陆\n                </el-button>\n            </div>\n\n            <div class=\"t-forget\">\n                <span class=\"t-span\">还没有账号?</span>\n                <router-link class=\"t-zhuce\" to=\"/register\">去注册</router-link>\n            </div>\n\n        </footer>\n\n    </div>\n\n</template>\n\n<script>\n    import contaUrl from '../../public/js/contaUrl'\n\n    export default {\n        data() {\n            var checkName = (rule, value, callback) => {\n                if (!value) {\n                    return callback(new Error('账号不能为空'));\n                } else {\n                    callback();\n                }\n            };\n            var checkPass = (rule, value, callback) => {\n                if (!value) {\n                    return callback(new Error('密码不能为空'));\n                } else {\n                    callback();\n                }\n            };\n            return {\n                checked: false,\n                ruleForm: {\n                    username: '',\n                    password: '',\n                },\n                rules: {\n                    username: [\n                        {validator: checkName, trigger: 'blur'}\n                    ],\n                    password: [\n                        {validator: checkPass, trigger: 'blur'}\n                    ]\n                }\n            }\n        },\n        methods: {\n            submitForm(formName) {\n                var params = new URLSearchParams();\n                params.append('username', this.ruleForm.username);\n                params.append('password', this.ruleForm.password);\n\n                this.$refs[formName].validate((valid) => {\n                    if (valid) {\n                        this.$axios.post(contaUrl.contaUrl + '/user/login', params).then((response) => {\n\n                            if (response.data.code == 400) {\n                                this.$notify.error({\n                                    title: '错误',\n                                    message: '此账号不存在,请注册!'\n                                });\n                            } else if (response.data.code == 200) {\n                                console.log(this.checked)\n\n                                sessionStorage.setItem('token', response.data.data.token);\n                                if(this.checked == true){\n                                    localStorage.setItem('token', response.data.data.token);\n                                }\n                                sessionStorage.setItem('role', response.data.data.role);\n                                sessionStorage.setItem('username', response.data.data.username);\n                                this.getUserInfo()\n                            }else if(response.data.code==401){\n                                this.$notify.error({\n                                    title: '错误',\n                                    message: '密码错误，请重试!'\n                                });\n                            }\n\n                        }).catch((error) => {\n                            console.log(error);\n                            this.$message.error('用户名/密码错误,请重试!');\n                        });\n                    } else {\n                        console.log('error submit!!');\n                        return false;\n                    }\n\n                });\n\n\n\n            },\n            resetForm(formName) {\n                this.$refs[formName].resetFields();\n            },\n\n            getUserInfo() {\n                var token = sessionStorage.getItem(\"token\");\n                console.log(token)\n                this.$axios.get(contaUrl.contaUrl + '/user/getUserInfo', {\n                    params: {\n                        token: token\n                    }\n                }).then((response) => {\n                    if (response.data.code == 200) {\n                        sessionStorage.setItem(\"image\", contaUrl.contaUrl + \"/\" + response.data.data.user.image);\n                        sessionStorage.setItem('role', response.data.data.user.role);\n                        sessionStorage.setItem('username', response.data.data.user.realName);\n\n                        this.$router.push('/homepage')\n                    }\n                    console.log(response.data.data);\n                }).catch((error) => {\n                    console.log(error)\n                })\n            }\n\n        },\n\n        created: function () {\n            var token = localStorage.getItem(\"token\");\n            if (token != null && token != undefined) {\n                sessionStorage.setItem(\"token\",token);\n                this.getUserInfo();\n            }\n        }\n    }\n</script>\n\n<style scpoed>\n    html, body {\n        margin: 0;\n        padding: 0;\n    }\n\n    /* header */\n    .t-pic {\n        width: 255px;\n        height: 115px;\n        margin: 0 auto;\n        margin-top: 10px;\n    }\n\n    /* footer */\n    .t-h3 {\n        margin-top: 40px;\n        text-align: center;\n    }\n\n    .t-name {\n        width: 300px;\n        margin: 0 auto;\n        margin-top: 70px;\n    }\n\n    .t-checkbox {\n        width: 200px;\n        margin: 15px auto;\n    }\n\n    .t-deng {\n        width: 200px;\n        margin: 30px auto;\n    }\n\n    .t-button {\n        width: 200px;\n    }\n\n    .t-forget {\n        margin-top: 130px;\n        text-align: center;\n    }\n\n    .t-span {\n        font-size: 14px;\n    }\n\n    .t-zhuce {\n        color: dodgerblue;\n        font-size: 14px;\n        text-decoration: none;\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=2842e9ab&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&scpoed=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"login.vue\"\nexport default component.exports","export default {\r\n    contaUrl : \"http://www.sdjhfaj.xyz/invoicing\"\r\n}","module.exports = __webpack_public_path__ + \"img/小云朵.f12d2203.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&scpoed=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&scpoed=true&lang=css&\""],"sourceRoot":""}