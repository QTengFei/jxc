(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e0890b5"],{"025c":function(e,t,a){},"27b0":function(e,t,a){"use strict";t["a"]={contaUrl:"http://www.sdjhfaj.xyz/invoicing"}},"375c":function(e,t,a){"use strict";var l=a("025c"),i=a.n(l);i.a},"7f7f":function(e,t,a){var l=a("86cc").f,i=Function.prototype,r=/^\s*function ([^ (]*)/,o="name";o in i||a("9e1e")&&l(i,o,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(e){return""}}})},ac6a:function(e,t,a){for(var l=a("cadf"),i=a("0d58"),r=a("2aba"),o=a("7726"),n=a("32e9"),s=a("84f2"),c=a("2b4c"),u=c("iterator"),m=c("toStringTag"),p=s.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=i(d),g=0;g<f.length;g++){var h,v=f[g],b=d[v],y=o[v],w=y&&y.prototype;if(w&&(w[u]||n(w,u,p),w[m]||n(w,m,v),s[v]=p,b))for(h in l)w[h]||r(w,h,l[h],!0)}},c75d:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container",staticStyle:{"margin-top":"100px"},attrs:{id:"myVue"}},[e._m(0),e._m(1),e._m(2),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px","label-position":"right"}},[a("el-form-item",{staticStyle:{"margin-top":"10px"},attrs:{label:"归属工地",prop:"name"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{size:"medium",placeholder:"请选择工地"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{staticStyle:{"margin-top":"5px"},attrs:{label:"材料名称",prop:"name1"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{size:"medium",placeholder:"请选择"},model:{value:e.ruleForm.name1,callback:function(t){e.$set(e.ruleForm,"name1",t)},expression:"ruleForm.name1"}},e._l(e.options1,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),a("div",{staticClass:"text-xs-center",staticStyle:{display:"inline"}},[a("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("el-button",{staticStyle:{margin:"0",width:"100%"},attrs:{slot:"activator",type:"medium"},slot:"activator"},[e._v("添加新材料\n                        ")]),a("v-card",[a("el-row",[a("el-col",{attrs:{span:6,offset:1}},[a("h4",{staticStyle:{"line-height":"80px"}},[e._v("材料类型")])]),a("el-col",{staticStyle:{"margin-top":"20px"},attrs:{span:16}},[a("el-select",{staticStyle:{width:"200px"},attrs:{size:"medium",placeholder:"请选择材料类型"},model:{value:e.fei1om,callback:function(t){e.fei1om=t},expression:"fei1om"}},e._l(e.opom,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6,offset:1}},[a("h4",{staticStyle:{"line-height":"30px"}},[e._v("材料名称")])]),a("el-col",{attrs:{span:16}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"medium",placeholder:"请输入材料名称"},model:{value:e.cailiaomingom,callback:function(t){e.cailiaomingom=t},expression:"cailiaomingom"}})],1)],1),a("el-row",[a("el-col",{attrs:{span:6,offset:1}},[a("h4",{staticStyle:{"line-height":"70px"}},[e._v("计量规格")])]),a("el-col",{staticStyle:{"margin-top":"20px"},attrs:{span:16}},[a("el-select",{staticStyle:{width:"200px"},attrs:{size:"medium",placeholder:"请选择计量规格"},model:{value:e.fei2om,callback:function(t){e.fei2om=t},expression:"fei2om"}},e._l(e.kgom,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-form",[a("el-form-item",{staticStyle:{"margin-left":"1px"},attrs:{label:"材料属性","label-width":e.formLabelWidth}},[a("div",{staticClass:"materialData"},[a("el-button",{staticClass:"el-icon-plus",staticStyle:{"margin-left":"20px"},on:{click:function(t){t.preventDefault(),e.addRow()}}}),a("el-button",{staticClass:"el-icon-minus",on:{click:function(t){t.preventDefault(),e.delData()}}}),a("div",{staticClass:"table"},[a("el-table",{ref:"table",staticStyle:{width:"200px","margin-left":"2px"},attrs:{data:e.materialData,"tooltip-effect":"dark",border:"",stripe:""},on:{"selection-change":e.selectRow}},[a("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}}),a("el-table-column",{attrs:{label:"材料属性",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.materialProperty,callback:function(a){e.$set(t.row,"materialProperty",a)},expression:"scope.row.materialProperty"}})]}}])}),a("el-table-column",{attrs:{label:"属性值",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.propertyValue,callback:function(a){e.$set(t.row,"propertyValue",a)},expression:"scope.row.propertyValue"}})]}}])})],1)],1)],1)])],1),a("v-card-actions",{staticStyle:{"margin-right":"60px"}},[a("v-spacer"),a("el-button",{attrs:{type:"danger",flat:""},on:{click:function(t){e.dialog=!1}}},[e._v("\n                                    取消\n                                ")]),a("el-button",{attrs:{type:"success",flat:""},on:{click:function(t){e.dialog=!1}}},[e._v("\n                                    确定\n                                ")])],1)],1)],1)],1)],1),a("el-form-item",{attrs:{label:"预计数量",prop:"name2"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{size:"medium",placeholder:"请输入内容",id:"nums"},model:{value:e.ruleForm.name2,callback:function(t){e.$set(e.ruleForm,"name2",t)},expression:"ruleForm.name2"}})],1),a("el-form-item",{attrs:{label:"使用部位",prop:"name3"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{size:"medium",placeholder:"请输入内容 "},model:{value:e.ruleForm.name3,callback:function(t){e.$set(e.ruleForm,"name3",e._n(t))},expression:"ruleForm.name3"}})],1),a("el-form-item",{attrs:{label:"申请人",prop:"name4"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{size:"medium",placeholder:"请输入内容"},model:{value:e.ruleForm.name4,callback:function(t){e.$set(e.ruleForm,"name4",t)},expression:"ruleForm.name4"}})],1),a("el-form-item",{attrs:{label:"电话",prop:"name5"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{size:"medium",placeholder:"请输入内容",id:"phone"},model:{value:e.ruleForm.name5,callback:function(t){e.$set(e.ruleForm,"name5",t)},expression:"ruleForm.name5"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"beizhu"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{size:"medium",placeholder:"请输入内容"},model:{value:e.beizhu,callback:function(t){e.beizhu=t},expression:"beizhu"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1),a("el-dialog",{attrs:{visible:e.dialogVisible,width:"100%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[e._v("提交申请成功")])])],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("img",{staticClass:"top img-responsive center-block",attrs:{src:"images/小云朵.png"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row",staticStyle:{"margin-top":"10px"}},[a("hr",{staticStyle:{height:"3px","background-color":"#D1D1D1",border:"none",margin:"5px"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row",staticStyle:{"margin-top":"20px"}},[a("h4",{staticStyle:{"text-align":"center"}},[e._v("请选择需要申请提货的明细")])])}],r=(a("ac6a"),a("7f7f"),a("27b0")),o={data:function(){var e=function(e,t,a){if(""===t)return a(new Error("请选择申请归属工地"));a()},t=function(e,t,a){""===t?a(new Error("请选择材料名称")):a()},a=function(e,t,a){var l=document.getElementById("nums").value;""===t?a(new Error("请输入预计数量")):/^[0-9]+.?[0-9]*$/.test(l)?a():a(new Error("请输入数字"))},l=function(e,t,a){""===t?a(new Error("请输入使用部位")):a()},i=function(e,t,a){""===t?a(new Error("请输入申请人")):a()},r=function(e,t,a){var l=document.getElementById("phone").value;""===t?a(new Error("请输入电话")):/^1[34578]\d{9}$/.test(l)?a():a(new Error("手机格式错误"))};return{ruleForm:{name:"",name1:"",name2:"",name3:"",name4:"",name5:""},rules:{name:[{required:!0,validator:e,trigger:"blur"}],name1:[{required:!0,validator:t,trigger:"blur"}],name2:[{required:!0,type:"number",validator:a,trigger:"blur"}],name3:[{required:!0,validator:l,trigger:"blur"}],name4:[{required:!0,validator:i,trigger:"blur"}],name5:[{required:!0,validator:r,trigger:"blur"}]},dialog:!1,drawer:null,dialogVisible:!1,options:[],options1:[],value:"",input:"",value1:"",value2:"",name:"",stockername:"",stockertel:"",amount:"",guige:"",unit:"",shiyongbuwei:"",supplier:"",money:"",beizhu:"",role:"",opom:[],fei1:"",db:[{value:"1",label:"条目1"},{value:"2",label:"条目2"},{value:"3",label:"条目3"}],fei2:"",kg:[{value:"1",label:"吨"},{value:"2",label:"千克"},{value:"3",label:"克"}],cailiaoming:"",kgom:"",fei1om:"",fei2om:"",cailiaomingom:"",formLabelWidth:"80px",materialData:[],selectlistRow:[]}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.$axios.get(r["a"].contaUrl+"/apply/pickapply",{params:{siteid:t.ruleForm.name,material_id:t.ruleForm.name1,amount:t.ruleForm.name2,usePart:t.ruleForm.name3,pickerName:t.ruleForm.name4,pickertel:t.ruleForm.name5,comment:t.ruleForm.name6,token:sessionStorage.getItem("token")}}).then(function(e){200==e.data.code?(console.log(e.data.data),t.$message({showClose:!0,message:"恭喜你,提交成功",type:"success"}),t.resetForm("ruleForm"),t.beizhu=""):t.$message({showClose:!0,message:"提交失败!"+e.data.msg,type:"error"})}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields(),this.beizhu=""},selectRow:function(e){this.selectlistRow=e},addRow:function(){var e={rowNum:"",materialProperty:this.materialProperty,propertyValue:this.propertyValue};this.materialData.unshift(e),console.log(this.materialData)},delData:function(){var e=this;if(0==this.selectlistRow.length)this.$message.warning("请勾选待移除的材料属性");else{for(var t=0;t<this.selectlistRow.length;t++){var a=this.selectlistRow;a.forEach(function(t){console.log(t),e.materialData.forEach(function(a,l){t.rowNum===a.rowNum&&e.materialData.splice(l,1)})})}this.$refs.materialData}}},mounted:function(){var e=this,t=sessionStorage.getItem("role");console.log(t);var a=document.getElementsByClassName("tile");console.log(a),3==t?(a[2].style.display="none",a[3].style.display="none",a[7].style.display="none"):2==t?(a[3].style.display="none",a[7].style.display="none"):1==t&&(a[2].style.display="none",a[4].style.display="none",a[6].style.display="none"),this.$axios.get(r["a"].contaUrl+"/user/getUserSites",{params:{token:sessionStorage.getItem("token")}}).then(function(t){if(200==t.data.code){var a=t.data.data.siteList;console.log(a);for(var l=0;l<a.length;++l){var i={};i.value=a[l].id,i.label=a[l].siteName,e.options.push(i)}}}).catch(function(e){console.log(e)}),this.$axios.get(r["a"].contaUrl+"/material/getAll",{params:{}}).then(function(t){if(200==t.data.code)for(var a=t.data.data.materialList,l=0;l<a.length;++l){var i={};i.value=a[l].id,i.label=a[l].materialName,e.options1.push(i)}}).catch(function(e){console.log(e)}),this.$axios.get(r["a"].contaUrl+"/material/getAll",{params:{}}).then(function(t){if(200==t.data.code)for(var a=t.data.data.materialList,l=0;l<a.length;++l){var i={};i.value=a[l].id,i.label=a[l].materialTypeName,e.opom.push(i)}}).catch(function(e){console.log(e)})}},n=o,s=(a("375c"),a("2877")),c=Object(s["a"])(n,l,i,!1,null,"ee615c9e",null);c.options.__file="purchase.vue";t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2e0890b5.cee4e71c.js.map